# README

Demo Active Job worker crash when a Job changes it's argument to sqlite3 incompatible encoding.

1. `bundle install`
2. `bin/rails db:migrate`
3. `bin/rails db:seed`
4. `bin/rails jobs:work`

Crashes the worker process with:

```console
$ bin/rails --trace jobs:work
** Invoke jobs:work (first_time)
** Invoke jobs:environment_options (first_time)
** Invoke environment (first_time)
** Execute environment
** Execute jobs:environment_options
** Execute jobs:work
[Worker(host:host pid:22060)] Starting job worker
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["ðŸ¤·"] (id=36) (queue=default) RUNNING
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["ðŸ¤·"] (id=36) (queue=default) COMPLETED after 0.0162
[Worker(host:host pid:22060)] 1 jobs processed at 28.3455 j/s, 0 failed
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=37) (queue=default) RUNNING
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=37) (queue=default) COMPLETED after 0.0110
[Worker(host:host pid:22060)] 1 jobs processed at 54.9330 j/s, 0 failed
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=38) (queue=default) RUNNING
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=38) (queue=default) COMPLETED after 0.0102
[Worker(host:host pid:22060)] 1 jobs processed at 57.8369 j/s, 0 failed
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=39) (queue=default) RUNNING
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=39) (queue=default) COMPLETED after 0.0101
[Worker(host:host pid:22060)] 1 jobs processed at 57.6901 j/s, 0 failed
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=40) (queue=default) RUNNING
[Worker(host:host pid:22060)] Job TestJob [729423de-c794-42bc-8f3d-bcc343cc432b] from DelayedJob(default) with arguments: ["\xF0\x9F\xA4\xB7"] (id=40) (queue=default) FAILED (0 prior attempts) with RuntimeError: ðŸ¤·
rails aborted!
Encoding::UndefinedConversionError: "\xF0" from ASCII-8BIT to UTF-8
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/sqlite3/quoting.rb:67:in `encode'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/sqlite3/quoting.rb:67:in `type_cast'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb:209:in `block in type_casted_binds'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb:207:in `map'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb:207:in `type_casted_binds'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/sqlite3/database_statements.rb:44:in `exec_query'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/sqlite3/database_statements.rb:74:in `exec_delete'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:175:in `update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/persistence.rb:513:in `_update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/persistence.rb:1082:in `_update_row'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/locking/optimistic.rb:88:in `_update_row'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/persistence.rb:1104:in `_update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/attribute_methods/dirty.rb:216:in `_update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/callbacks.rb:465:in `block in _update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:929:in `_run_update_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/callbacks.rb:465:in `_update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/timestamp.rb:121:in `_update_record'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/persistence.rb:1091:in `create_or_update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/callbacks.rb:457:in `block in create_or_update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:107:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:929:in `_run_save_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/callbacks.rb:457:in `create_or_update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/timestamp.rb:126:in `create_or_update'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/persistence.rb:648:in `save!'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/validations.rb:55:in `save!'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/transactions.rb:304:in `block in save!'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/transactions.rb:356:in `block in with_transaction_returning_status'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:457:in `block in within_new_transaction'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:455:in `within_new_transaction'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in `transaction'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/transactions.rb:352:in `with_transaction_returning_status'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/transactions.rb:304:in `save!'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/suppressor.rb:54:in `save!'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:252:in `reschedule'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:305:in `handle_failed_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:241:in `block in run'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:241:in `rescue in run'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:227:in `run'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:312:in `block in reserve_and_run_one_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:312:in `reserve_and_run_one_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:213:in `block in work_off'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:212:in `times'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:212:in `work_off'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:175:in `block (4 levels) in start'
$HOME/.rubies/ruby-3.1.0/lib/ruby/3.1.0/benchmark.rb:311:in `realtime'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:174:in `block (3 levels) in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:173:in `block (2 levels) in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:172:in `loop'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:172:in `block in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/plugins/clear_locks.rb:7:in `block (2 levels) in <class:ClearLocks>'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:79:in `block (2 levels) in add'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:79:in `block in add'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:171:in `start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/tasks.rb:9:in `block (2 levels) in <top (required)>'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:18:in `perform'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/command.rb:51:in `invoke'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands.rb:18:in `<top (required)>'
bin/rails:4:in `require'
bin/rails:4:in `<main>'

Caused by:
ðŸ¤·
$HOME/tmp/activejobtest/app/jobs/test_job.rb:5:in `perform'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/execution.rb:59:in `block in _perform_job'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/i18n-1.10.0/lib/i18n.rb:328:in `with_locale'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `instance_exec'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `instance_exec'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:138:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/execution.rb:58:in `_perform_job'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/instrumentation.rb:20:in `_perform_job'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/execution.rb:46:in `perform_now'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/instrumentation.rb:14:in `block in perform_now'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/railties/job_runtime.rb:13:in `block in instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/instrumentation.rb:28:in `block in instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/notifications.rb:206:in `block in instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/notifications.rb:206:in `instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/instrumentation.rb:27:in `instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activerecord/lib/active_record/railties/job_runtime.rb:11:in `instrument'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/instrumentation.rb:14:in `perform_now'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/logging.rb:18:in `block in perform_now'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/tagged_logging.rb:114:in `block in tagged'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/tagged_logging.rb:38:in `tagged'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/tagged_logging.rb:114:in `tagged'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/logging.rb:25:in `tag_logger'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/logging.rb:18:in `perform_now'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/execution.rb:24:in `block in execute'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/railtie.rb:54:in `block (4 levels) in <class:Railtie>'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/execution_wrapper.rb:92:in `wrap'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/reloader.rb:72:in `block in wrap'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/execution_wrapper.rb:92:in `wrap'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/reloader.rb:71:in `wrap'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/railtie.rb:53:in `block (3 levels) in <class:Railtie>'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `instance_exec'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activesupport/lib/active_support/callbacks.rb:138:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/execution.rb:22:in `execute'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/activejob/lib/active_job/queue_adapters/delayed_job_adapter.rb:47:in `perform'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/backend/base.rb:81:in `block in invoke_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/backend/base.rb:78:in `invoke_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:230:in `block (2 levels) in run'
$HOME/.gem/ruby/3.1.0/gems/timeout-0.3.0/lib/timeout.rb:179:in `block in timeout'
$HOME/.gem/ruby/3.1.0/gems/timeout-0.3.0/lib/timeout.rb:186:in `timeout'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:230:in `block in run'
$HOME/.rubies/ruby-3.1.0/lib/ruby/3.1.0/benchmark.rb:311:in `realtime'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:229:in `run'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:312:in `block in reserve_and_run_one_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:312:in `reserve_and_run_one_job'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:213:in `block in work_off'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:212:in `times'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:212:in `work_off'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:175:in `block (4 levels) in start'
$HOME/.rubies/ruby-3.1.0/lib/ruby/3.1.0/benchmark.rb:311:in `realtime'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:174:in `block (3 levels) in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:173:in `block (2 levels) in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:172:in `loop'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:172:in `block in start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/plugins/clear_locks.rb:7:in `block (2 levels) in <class:ClearLocks>'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:79:in `block (2 levels) in add'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:61:in `block in initialize'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:79:in `block in add'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:66:in `execute'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/lifecycle.rb:40:in `run_callbacks'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/worker.rb:171:in `start'
$HOME/.gem/ruby/3.1.0/gems/delayed_job-4.1.10/lib/delayed/tasks.rb:9:in `block (2 levels) in <top (required)>'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'
$HOME/.rubies/ruby-3.1.0/lib/ruby/gems/3.1.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands/rake/rake_command.rb:18:in `perform'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/command.rb:51:in `invoke'
$HOME/.gem/ruby/3.1.0/bundler/gems/rails-7669a4a9757b/railties/lib/rails/commands.rb:18:in `<top (required)>'
bin/rails:4:in `require'
bin/rails:4:in `<main>'
Tasks: TOP => jobs:work
```